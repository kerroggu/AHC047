## このリポジトリについて
このリポジトリは競技プログラミングのヒューリスティックな問題を解くためのものである。 \
問題はtask.htmlに記載されている。



## テスト方法
入力ファイルは下記のような名前で0000～0099まで与えられることが多い
./in/0001.txt

下記の例のように実行して、テストケース0000～0014の15件の合計スコアをベンチマークとせよ。改善せよというタスクの場合はこのスコアをKPIとする。スコアが大小どちらがよいかは問題を読んで判断すること。

./a.out < $input_file  > $output_file 2> $err_file

入力ファイル ./in/0000.txt
出力ファイル ./out/out_0000.txt
エラー出力ファイル ./err/err_0000.txt
のような形で出す事

以上のテストをbashで自動化したものがあるのでこれを使ってテストすること。 \
./run_all_par_sh.sh

## 実装の注意点:
なるべく差分更新でスコアを計算できるようなデータの持ち方を考える

### 焼きなまし:
開始温度、最終温度はグローバル変数として、コードの先頭部分に置く事 \
状態のコピーをするよりも、遷移で状態を変更してしまって、受理されなかったら元に戻すようにするとコピーコストがかからない \
時間計測は毎回行わない \
乱数を返す関数はwhileの外で定義しておく \


## 焼きなましの方針のヒント:
遷移には逆遷移を含めた方がよい \
一部分を破壊して貪欲に再構築する遷移が効くこともある

## 高速化TIPS:
BFS: 探索済リストの初期化を毎回行わず、各BFS開始前にbfscntを適度にインクリメントしてvisitedまたは距離0としてあつかう
- コンパイル時は `-O3 -march=native -ffast-math -pipe` などの最適化オプションを付けて速度を稼ぐ
- 乱数生成は `std::mt19937` をグローバルに保持し、毎回初期化しない
- スコア計算や評価値は差分更新を徹底して O(1) で求められる形を目指す
- 大きく状態を壊してから貪欲に再構築する遷移を組み合わせると局所解に陥りにくい
- 探索で使う配列は使い回し、キャッシュの局所性を意識する
